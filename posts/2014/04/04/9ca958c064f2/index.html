<!DOCTYPE html>
<html><head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>1ページAppでクローラに動的なメタ情報を読ませることが出来るか？ | フリーランチなど無い - There ain&#39;t no such thing as a free lunch</title>
  
  <link rel="stylesheet" href="https://unpkg.com/modern-css-reset/dist/reset.min.css" />
  <link rel="stylesheet" href="https://tanstaafl.0pt.jp//css/app.css" />
  <link rel="stylesheet" href="https://tanstaafl.0pt.jp//css/author.css">
<meta property="og:title" content="1ページAppでクローラに動的なメタ情報を読ませることが出来るか？" />
<meta property="og:description" content="このブログは1ページAppを目指して作っている（まだ完成していないがいずれは少数の静的ページに集約したいと思っている）。1ページAppはシン" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tanstaafl.0pt.jp/posts/2014/04/04/9ca958c064f2/" />
<meta property="og:image" content="https://tanstaafl.0pt.jp/images/simple_thumbnail.jpg"/>
<meta property="article:published_time" content="2014-04-04T00:00:00+00:00" />
<meta property="article:modified_time" content="2014-04-04T00:00:00+00:00" />

<meta name="twitter:title" content="1ページAppでクローラに動的なメタ情報を読ませることが出来るか？"/><meta name="twitter:image" content="https://tanstaafl.0pt.jp/images/simple_thumbnail.jpg"/><meta name="twitter:card" content="summary"/>
<meta name="twitter:description" content="このブログは1ページAppを目指して作っている（まだ完成していないがいずれは少数の静的ページに集約したいと思っている）。1ページAppはシン"/>

</head>
<body><div class="header">
  <div class="container">
    <div class="left"></div>
    <div class="main">
      <div class="blog-title">
        <a href="https://tanstaafl.0pt.jp/">フリーランチなど無い - There ain&#39;t no such thing as a free lunch</a>
      </div>
    </div>
    <div class="right"></div>
  </div>
</div>

<div class="container">
  <div class="left"></div>
  <div class="main">
    <article class="article">
      <div class="date">
          <time>Fri, Apr 4, 2014</time>
      </div>
      <div class="article-heading">
        <h1 class="article-title">1ページAppでクローラに動的なメタ情報を読ませることが出来るか？</h1>
        <div class="tags">
          
            <div class="tag">
                <a href="/tags/javascript/">javascript</a>
            </div>
          
            <div class="tag">
                <a href="/tags/angularjs/">angularjs</a>
            </div>
          
            <div class="tag">
                <a href="/tags/1%E3%83%9A%E3%83%BC%E3%82%B8app/">1ページapp</a>
            </div>
          
            <div class="tag">
                <a href="/tags/spa/">spa</a>
            </div>
          
            <div class="tag">
                <a href="/tags/seo/">seo</a>
            </div>
          
        </div>
      </div>
      <div class="article-body"><p>このブログは1ページAppを目指して作っている（まだ完成していないがいずれは少数の静的ページに集約したいと思っている）。1ページAppはシングルページアプリケーション（SPA）とも言い、1ページのHTMLページ内で動的にコンテンツを切り替えていくアプリのことだ。
URLのパラメータやフラグメントを元に、Ajaxなどで動的にコンテンツをロードすることであたかもそれぞれのページが存在するかのように別々のコンテンツを表示する。</p>
<p>ここで問題になるのは、Googleなどのクローラはjavascriptを実行しないため、クローラに対してTitleタグやOGPなどのメタ情報をクライアント側で動的に出し分けることが出来ないということだ。これについて何か解決策がないか調べてみたのだが、結論としては、クローラなどにjavascrptで動的にメタ情報を付加することはやっぱり出来ないということだった。（そりゃそうだ）。</p>
<p>特に参考になったのは以下の記事である。</p>
<p><a href="https://coderwall.com/p/vqpfka">AngularJS SEO</a> <a href="https://coderwall.com/p/vqpfka">https://coderwall.com/p/vqpfka</a></p>
<p>この記事では2つの解法が示されている。</p>
<p>1つ目はシンプルに<strong>そもそも1ページAppにはしない</strong>こと。
実はこのブログではこちらの解法を採用するつもりだ。各記事についてはサーバ側のテンプレートを分けて、そちらにはメタ情報をサーバ側で付与する。1ページに集約することにこだわるより、AngularJSのテンプレートを使って再利用できるところは再利用し、最低限のサーバ側で出しわけないといけないところはサーバ側でレンダリングする方が自然だと判断したからだ。とはいえ1ページAppというのはロマンがあったので少し残念ではある。</p>
<p>2つ目のやり方はサーバ側でHTMLページをレンダリングし、クローラに表示することだ。
これをわざわざやってまでSEO対策するほどのメリットは見いだせなかったのでこちらの手段は取らないことにした。
上の記事では2つ目のやり方について詳しく書かれているが、<strong>滅茶苦茶めんどくさそう</strong>な印象を受けたからだ。</p>
<p>そういうわけで結論としては1ページAppでメタ情報を動的に扱うのは基本的に無理筋だということがわかった。（身も蓋もないが）。</p>
</div>
    </article>
  </div>
  <div class="right"></div>
</div>
<div class="footer">
  <div class="container">
    <div class="left"></div>
    <div class="main">
      <div class="container">
        <div class="avatar">
          <img src="/images/me.jpeg">
        </div>
        <div class="footer-body container">
          <div>Minori Tokuda(<a href="https://twitter.com/snowcrush">@snowcrush</a>)</div>
          <div>
          A programmer, and loving software technologies.
          </div>
          <div>
          github: <a href="https://github.com/minoritea">https://github.com/minoritea</a>
          </div>
        </div>
      </div>
    </div>
    <div class="right"></div>
  </div>
</div>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-19366665-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>
</html>
