<!DOCTYPE html>
<html  lang="ja" ><head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>Chromebookを買ってLinux(GalliumOS)を入れた | フリーランチなど無い - There ain&#39;t no such thing as a free lunch</title>
  <meta name="description" content="Chromebookを買う 先日急に思い立ってChromebookを買った。と書くと衝動的に見えるけど、ここ一年くらいずっとほしいと思っていた" />
  
  <link rel="stylesheet" href="https://tanstaafl.0pt.jp/css/theme.css" />
  <link rel="alternate" type="application/rss+xml" title="RSS2.0" href="/index.xml">
<link rel="stylesheet" href="https://tanstaafl.0pt.jp/css/author.css">
<meta property="og:title" content="Chromebookを買ってLinux(GalliumOS)を入れた" />
<meta property="og:description" content="Chromebookを買う 先日急に思い立ってChromebookを買った。と書くと衝動的に見えるけど、ここ一年くらいずっとほしいと思っていた" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tanstaafl.0pt.jp/posts/2016/12/17/65b6078c14a5/" /><meta property="og:image" content="https://tanstaafl.0pt.jp/images/simple_thumbnail.png" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-12-17T17:46:40+09:00" />
<meta property="article:modified_time" content="2016-12-17T17:46:40+09:00" />


<meta name="twitter:title" content="Chromebookを買ってLinux(GalliumOS)を入れた"/><meta name="twitter:image" content="https://tanstaafl.0pt.jp/images/simple_thumbnail.png"/><meta name="twitter:card" content="summary"/>
<meta name="twitter:description" content="Chromebookを買う 先日急に思い立ってChromebookを買った。と書くと衝動的に見えるけど、ここ一年くらいずっとほしいと思っていた"/>
<link rel="icon" type="image/png" href="/images/favicon.png">
<script>
 
!(function(w,p,f,c){c=w[p]=Object.assign(w[p]||{},{"lib":"/js/partytown/"});c[f]=(c[f]||[]).concat(["dataLayer.push"])})(window,'partytown','forward');
!function(t,e,n,i,r,o,a,d,s,c,l,p){function u(){p||(p=1,"/"==(a=(o.lib||"/~partytown/")+(o.debug?"debug/":""))[0]&&(s=e.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(f,1e4),e.addEventListener("pt0",w),r?h(1):n.serviceWorker?n.serviceWorker.register(a+(o.swPath||"partytown-sw.js"),{scope:a}).then((function(t){t.active?h():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&h()}))}),console.error):f())))}function h(t){c=e.createElement(t?"script":"iframe"),t||(c.setAttribute("style","display:block;width:0;height:0;border:0;visibility:hidden"),c.setAttribute("aria-hidden",!0)),c.src=a+"partytown-"+(t?"atomics.js?v=0.8.0":"sandbox-sw.html?"+Date.now()),e.querySelector(o.sandboxParent||"body").appendChild(c)}function f(n,r){for(w(),i==t&&(o.forward||[]).map((function(e){delete t[e.split(".")[0]]})),n=0;n<s.length;n++)(r=e.createElement("script")).innerHTML=s[n].innerHTML,e.head.appendChild(r);c&&c.parentNode.removeChild(c)}function w(){clearTimeout(d)}o=t.partytown||{},i==t&&(o.forward||[]).map((function(e){l=t,e.split(".").map((function(e,n,i){l=l[i[n]]=n+1<i.length?"push"==i[n+1]?[]:l[i[n]]||{}:function(){(t._ptf=t._ptf||[]).push(i,arguments)}}))})),"complete"==e.readyState?u():(t.addEventListener("DOMContentLoaded",u),t.addEventListener("load",u))}(window,document,navigator,top,window.crossOriginIsolated);
</script>
<script type="text/partytown" src="https://www.googletagmanager.com/gtag/js?id=G-WMCEBYW7WE"></script>
<script type="text/partytown">
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-WMCEBYW7WE');
</script>

</head>
<body><div class="header">
  <div class="container">
    <div class="left"></div>
    <div class="main">
      <div class="blog-title">
        <a href="https://tanstaafl.0pt.jp/">フリーランチなど無い - There ain&#39;t no such thing as a free lunch</a>
      </div>
    </div>
    <div class="right"></div>
  </div>
</div>

<div class="container">
  <div class="left"></div>
  <div class="main">
    <article class="article">
      <div class="date">
          <time>Sat, Dec 17, 2016</time>
      </div>
      <div class="article-heading">
        <h1 class="article-title">Chromebookを買ってLinux(GalliumOS)を入れた</h1>
        <div class="tags">
          
        </div>
      </div>
      <div class="article-body"><h1 id="chromebookを買う">Chromebookを買う</h1>
<p>先日急に思い立ってChromebookを買った。と書くと衝動的に見えるけど、ここ一年くらいずっとほしいと思っていた。</p>
<p><img src="/images/chromebook.png" alt="chromebook image"></p>
<p>Chromebookというのは要はChromeOSが動くノートPCのことだ。
ChromeOSというのはGoogle製のOSでChromeブラウザ上ですべてのUXを動かしてしまうという、
スパルタンな構成をもつ。
といっても僕は別にChromeOSが使いたくてChromebookを買ったわけではない。
安価なLinuxマシンが欲しかったのだ。</p>
<p>ChromeOSのカーネル自体はLinuxである。
ということはChromebookでLinuxを動かすのは結構簡単ということだ。
まあ今どきWindowsPCにLinuxを入れるのも結構簡単なんだけど、
WindowsPCにはたいていWindowsOSが入っていて、
使いもしないOSのためにマイクロソフトに利用料を払うのはなんだか勿体無いという気持ちがある。
ChromeOS自体はGoogleが無料で提供している。
その代わり、ChromeOSにログインするためにはGoogleのアカウントが必要で、
中のアプリも大抵Googleのクラウドに接続して利用する。
Androidと同じビジネスモデルだ。
まあそれはともかくChromebookはLinuxを入れるにも結構いいと聞いて、
ずっと欲しかったのだ。</p>
<p>今回買った機種は東芝のChromebook2だ。
こいつの2015年版は神機として有名だったが、
今回は2014版の中古が安く売っていたのでそっちを購入した。</p>
<p>Chromebookを買うにあたって、スペック的な条件は以下のようなものだった。</p>
<h3 id="必須">必須</h3>
<ul>
<li>13インチ</li>
<li>重量2Kg以下</li>
<li>CPUがAtom/ARMでないもの（Intel Core系かその下位モデル）</li>
</ul>
<h3 id="希望">希望</h3>
<ul>
<li>FHD以上の解像度</li>
<li>メモリ8GB</li>
<li>重量1.3Kg以下</li>
</ul>
<p>希望条件を満たすモデルは軒並みAmazonで日本への発送を取り扱っておらず、
並行輸入品は割高なものばかりという状況だった。</p>
<p>個人輸入を行うという選択肢もあったが、
まずはお試しで安い中古品を買って色々遊んでみてから、
気に入ったら高スペックのモデルを買おうと思い今回はChromebook2の旧モデルを購入した。
スペック的には、HaswellベースのCeleronと2GBのメモリ、WXGAのディスプレイでまあまあだ。
2万円弱だったので外してもそんなに痛くはない。</p>
<h1 id="linuxを入れる">Linuxを入れる</h1>
<p>ChromebookでLinuxを入れるメジャーな選択肢としては概ね2つある（他のやり方もあるが）。</p>
<ol>
<li>CroutonというツールでUbuntuを入れる</li>
<li>GalliumOSというディストリビューションを入れる</li>
</ol>
<p>CroutonはchrootをラップしたツールでLinuxディストリとChromeOSを共存できる。
GalliumOSはUbuntuベースのOSで、直接Chromebookマシンにインストールする。</p>
<p>僕は別にChromeOSの部分を残す必要はなかったので、後者のGalliumOSを選択した。</p>
<p>インストールは公式のwikiを見ながらやったらすんなりいった。
カスタムファームウェアは入れなくても良いということだったので入れなかったけど、
デフォルトのファームウェアだと起動するたびに手動でブートローダを立ちあげなければいけなくなったので、
次にインストールするときはカスタムのファームウェアを入れたい。</p>
<p>とはいえ、大して不便はしていないので入れなおすということはしない。</p>
<h1 id="galliumos">GalliumOS</h1>
<p><img src="/images/galliumos.png" alt="gallium OS wallpaper"></p>
<p>GalliumOSはXubuntuベースのChromeOS向けディストリビューションだ。
僕は普段ArchLinuxをサーバ用に使っていて、Debian系はLMDEを少し使ったことがある程度だ。
まあでも特に使い方で迷うということもなくサクサク使えた。
このあたりはUbuntuの良さで、デスクトップOSとしてはかなり親切な作りになっている。</p>
<p>パッケージもだいたいapt/aptitudeで入れられるし、
野良のdebパッケージもubuntu用のものがそのまま入れられる。
今回ChromeやSlackを入れてみたけど、
パッケージマネージャを通さずに公式で直に配布しているアプリなどは、
だいたいdeb形式だし、サポートOSもUbuntuが多い。
それらをそのまま入れられるというのもUbuntu派生OSの強みだと思う。</p>
<h1 id="デスクトップ環境">デスクトップ環境</h1>
<p>GalliumOSに標準で入っているデスクトップ環境はXfceである。
といってもかなり小奇麗なデザインでいかにも今時のディストリという感じだ。
同僚に見せたところWindowsっぽいと言われたが、
確かにUIはWindowsXPあたりに似ている。といってもよりモダンな感じはするけど。</p>
<p>しかし今回別のデスクトップ環境を入れることにした。
それはタイル型ウィンドウマネージャのxmonadだ。
選択の理由は、そもそもタイル型ウィンドウマネージャを入れてみたかったことと、
Haskellの勉強のために触ってみたかったということで入れてみた。</p>
<h1 id="xmonad">xmonad</h1>
<p><img src="/images/xmonad.png" alt="xmonad screenshot"></p>
<p>まだ大してカスタムしていないけれどとりあえず快適に使えている。
いくつか苦労した点としては、Xfceと共存させたことと、キーマップが挙げられる。</p>
<p>xmonadにはXfceと共存させるためのコンフィグが公式で用意されていて、
それをインポートで読みこめば基本的に問題なく動く。
ただ、こっちで何もしなくていいというわけでもなくて、
xmonadで立ち上げる外部コマンド（ファインダやターミナルなど）は設定する必要があったし、
Xfceのパネル（タスクバー）は手動で殺す必要があった。</p>
<p>もうひとつ、キーマップだけれども、xmonadはmodキーという特殊キーを設定して、
そのキーと他のキーを組み合わせることでショートカットを動かすことができる。
WindowsにおけるWindowsキーのようなもので、実際Windows機上で動かすならWindowsキーにマップするのが普通らしい。
ただし今回Chromebookで動かすので、キーマップがうまく動かず設定にてこずった。
といっても苦労したのは僕がxmodmapの使い方をあまり理解してなかったからで、
xmodmapというのはLinux向けのキーリマップ・ツールなんだけど、
そっちを正しく動かせるようになったら、xmonadの方は特に問題なく動かせた。</p>
<p>Chromebookのサーチキー（🔍マークのついたキー）はCTRLにマップしたので、
modキーは右シフトにマップした。
これで使いやすいかどうかはまだ試しているところだけれど、今のところ特に不満はない。</p>
<h1 id="おわりに">おわりに</h1>
<p>ひさしぶりにこのブログを更新した。
この記事は購入したChromebookで作成していて、まあいつものVimとHugoで書いたんだけれども、
そういうUnix系のツールがそのまま使えるというのはやっぱりPC-Linuxの良いところである。</p>
<p>ChromebookをLinuxマシンとして使うのは概ね問題ない感じで、
心配していたドライバ周りだったりの不都合がまだ見られないのはさすがといったところである。
バッテリの持ちも今時のモバイルラップトップとしては普通に持つし、
このマシンは一世代前の機種ということもあって結構低スペックなのだけれども、
OSがXubuntuベースということもあってかかなりサクサク動いて気持ち良い。</p>
<p>僕はノートPCのGUIはブラウザとターミナルエミュレータさえ最低限使えれば良いと思っていて、
実際仕事で使っているMacbook proもそういう使い方なのだけれど、
このままChromebookをメインにしても良いと思えるぐらいには快適だった。</p>
<p>まあプライベートでの作業とかは、このマシンをしばらく使っていこうと思っている。
Chromebook、おすすめである！</p>
</div>
    </article>
  </div>
  <div class="right"></div>
</div>
<div class="footer">
  <div class="container">
    <div class="left"></div>
    <div class="main">
      <div class="container">
        <div class="avatar">
          <img alt="avatar" src="/images/me.jpeg">
        </div>
        <div class="footer-body container">
          <div>Minori Tokuda(<a href="https://twitter.com/snowcrush">@snowcrush</a>)</div>
          <div>
          A programmer, and loving software technologies.
          </div>
          <div>
          github: <a href="https://github.com/minoritea">https://github.com/minoritea</a>
          </div>
        </div>
      </div>
    </div>
    <div class="right"></div>
  </div>
</div>
</body>
</html>
